"use strict";function getPoToPoDis(t,n,o,e){return Math.sqrt((t-o)*(t-o)+(n-e)*(n-e))}function getPoToLineDis(t,n,o){var e=n.lng,i=n.lat,s=o.lng,l=o.lat,P=t.lng,g=t.lat,r=getPoToPoDis(e,i,s,l),a=getPoToPoDis(e,i,P,g),p=getPoToPoDis(s,l,P,g),u=0;if(p+a===r)u=0;else if(p*p>=r*r+a*a)u=a;else if(a*a>=r*r+p*p)u=p;else{var c=(a+p+r)/2,D=Math.sqrt(c*(c-r)*(c-a)*(c-p));u=2*D/r}return u}function isPointInRect(t,n){var o=n.getSouthWest(),e=n.getNorthEast();return t.lng>=o.lng&&t.lng<=e.lng&&t.lat>=o.lat&&t.lat<=e.lat}function genPointOnPolyline(t,n,o){var e=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2e-4,i=void 0,s=void 0,l=n.lng-o.lng,P=n.lat-o.lat;if(l<e&&l>-e)return i=n.lng,s=t.lat,{pointLng:i,pointLat:s};if(P<2e-6&&P>-2e-6)return s=n.lat,i=t.lng,{pointLng:i,pointLat:s};var g=(o.lat-n.lat)/(o.lng-n.lng),r=(g*g*n.lng+g*(t.lat-n.lat)+t.lng)/(g*g+1),a=g*(r-n.lng)+n.lat;return{pointLng2:r,pointLat2:a}}function isPointOnPloyline(t,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2e-4;if(!isPointInRect(t,n.getBounds()))return!1;var e=[],i=n.getPath();i.forEach(function(n,o){e.push(getPoToLineDis(t,i[o],i[o+1])),e.sort()});var s=e[0];return s<o&&s>-o}function genMinDisPoint(t,n,o){if(!isPointInRect(t,n.getBounds()))return!1;var e=void 0,i=void 0,s=[],l=[],P=n.getPath();P.forEach(function(n,o){e=P[o],i=P[o+1];var g=getPoToLineDis(t,e,i);s.push(g),s.sort(),g===s[0]&&l.concat([e,i])}),e=l[l.length-2],i=l[l.length-1];var g=s[0];return g<o&&g>-o?genPointOnPolyline(t,e,i):t}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getPoToPoDis=getPoToPoDis,exports.getPoToLineDis=getPoToLineDis,exports.isPointInRect=isPointInRect,exports.genPointOnPolyline=genPointOnPolyline,exports.isPointOnPloyline=isPointOnPloyline,exports.genMinDisPoint=genMinDisPoint,Object.defineProperty(exports,"__esModule",{value:!0}),exports.getPoToPoDis=exports.isPointInRect=exports.genMinDisPoint=exports.getPoToLineDis=exports.isPointOnPloyline=exports.genPointOnPolyline=void 0;var _geoUtils=require("./geo-utils");exports.genPointOnPolyline=_geoUtils.genPointOnPolyline,exports.isPointOnPloyline=_geoUtils.isPointOnPloyline,exports.getPoToLineDis=_geoUtils.getPoToLineDis,exports.genMinDisPoint=_geoUtils.genMinDisPoint,exports.isPointInRect=_geoUtils.isPointInRect,exports.getPoToPoDis=_geoUtils.getPoToPoDis;